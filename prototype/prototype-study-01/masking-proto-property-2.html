<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>masking proto property 2</title>
  <meta name="viewport" content="width=device-width">

<style type="text/css" >
</style>


</head>

<body>




<!--script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script-->
<script>window.jQuery || document.write('<script src="file:///E:/sys/lib/js/jquery-1.7.1.min.js"><\/script>')</script>
<script src="file:///E:/sys/lib/js/underscore-1.3.3.js"></script>
<script src="file:///E:/sys/lib/js/backbone-0.9.2.js"></script>
<script src="file:///E:/sys/lib/js/safe-console.js"></script>
<script type="text/javascript">
console.log('jq directory: file:///E:/sys/js/; jQuery version ' + jQuery().jquery);
// - - - - - - - - - - - - - -


function A() {} 
A.prototype.x = "I am on prototype";  // add property to prototype

var a1 = new A();
console.log(a1.x);

a1.x = "I am on instance"; 	// add property to instance

console.log(a1.x);    // instance

a1.x = null
console.log(a1.x);    // null
console.log(a1.hasOwnProperty('x')); // true
console.log(a1.__proto__.hasOwnProperty('x')); // true


/*
	Once a property is added to the object instance, it shadows any properties of the same name on the prototype.  In this manner, a property on the obj instance can only blocks access to the property on the prototype but it cannot change it.
	
	Setting a property on instance to null will not restore accessibility to property of same name on the prototype.  Null is only set at instance, not on the prototype.  

	However, the delete operator can remove the instance property and allows the prototype property to be accessed again.
*/

delete a1.x;
console.log(a1.x);  // prototype
console.log(a1.hasOwnProperty('x'));  // false
console.log(a1.__proto__.hasOwnProperty('x')); // true



log('- - - - - - - - - - - - - - - - - - - - - - - - - - - - -');


// Object.getPrototypeOf() returns the prototype object on an instance
// it is new in ECMAScript5, and is supported in IE9+






// - - - - - - - - - - - - - -
</script>	
</body>

</html>
