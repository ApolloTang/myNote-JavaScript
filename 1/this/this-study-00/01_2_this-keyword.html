<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>01_2_this-keyword</title>
  <meta name="viewport" content="width=device-width">

<style type="text/css" >
</style>


</head>

<body>




<!--script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script-->
<script>window.jQuery || document.write('<script src="file:///E:/sys/lib/js/jquery-1.7.1.min.js"><\/script>')</script>
<script src="file:///E:/sys/lib/js/underscore-1.3.3.js"></script>
<script src="file:///E:/sys/lib/js/backbone-0.9.2.js"></script>
<script src="file:///E:/sys/lib/js/safe-console.js"></script>
<script type="text/javascript">
console.log('jq directory: file:///E:/sys/js/; jQuery version ' + jQuery().jquery);
// - - - - - - - - - - - - - -



console.log('- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -[1] some review' );
	
function A1(){ 
	console.log( "	in A1(), 'this' is: ", this); 
	this.a = ['a']; console.log("	in A(), executing 'this.a = ['a'];'")
}
//console.log('	a: ', a); 	// Uncaught ReferenceError: a is not defined <--a is undefined b/c this.a = ['a'] was never executed



console.log('- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -[1b] ' );

A1();   			// in Parent(), 'this' is: >Window	
	console.log('	a: ', a, "<--now variable a exists in window scope"); 	// ["a"] 


console.log('- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -[1c] some review' );



function B(){ 
	console.log( "	in B(), 'this' is: ", this); 
	var b = ['b']; console.log("	in B(), executing 'b = ['b'];'");
}

B();
//console.log(b); 	// Uncaught ReferenceError: b is not defined <-- b is inside function B, you can't access a variable inside function
console.log('	B.b: ', B.b); 	// undefined
B.b = 'B.b';  console.log("executing> B.b = 'B.b';")
console.log('	B.b: ', B.b,  "<-- don't mistake this b being in the lexical scope of function B" ); 	// undefined

 
console.log('- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -[2] in the case of bein in an obj instance ' );


function C(){ 
	console.log( "	in C(), 'this' is: ", this); 
	this.a = ['a']; console.log("	in C(), executing 'this.a = ['a'];'")
}
c1 = new C(); 		// in C(), 'this' is: >C

	console.log("	a == c1.a: ", a == c1.a);  //false

c1.a.push('context is c1');
	console.log("	c1.a: ", c1.a); 	// ["a"]

a.push('context is window');
	console.log("	window.a: ", window.a);
	console.log("	a: ", a);



console.log("- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -[3] calling in window's scope" );

function D(){ 
	console.log( "	in D(), 'this' is: ", this); 
	this.x = ['x']; console.log("	in D(), executing 'this.x = ['x'];'")
}
function E(){
	D();
}

e = new E();
console.log("e.x: ", e.x); // undefined
console.log("x: ", x);	// ['x'];


console.log("- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -[4] calling in another scope" );

function D1(){ 
	console.log( "	in D1(), 'this' is: ", this); 
	this.x1 = ['x1']; console.log("	in D1(), executing 'this.x1 = ['x1'];'")
}
function E1(){
	D1.call(this);
}

e1 = new E1();
console.log("e1.x1: ", e1.x1);	// ['x1'];
console.log("x1: ", x1);	   	// Uncaught ReferenceError: x1 is not defined 





// - - - - - - - - - - - - - -
</script>	
</body>

</html>
